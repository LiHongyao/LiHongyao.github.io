(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-user-info-user-info"],{"0fa3":function(t,e,i){"use strict";i.r(e);var s=i("16ca"),a=i.n(s);for(var n in s)"default"!==n&&function(t){i.d(e,t,function(){return s[t]})}(n);e["default"]=a.a},"14ed":function(t,e,i){"use strict";i.r(e);var s=i("7bee"),a=i("0fa3");for(var n in a)"default"!==n&&function(t){i.d(e,t,function(){return a[t]})}(n);i("d32f");var o=i("2877"),r=Object(o["a"])(a["default"],s["a"],s["b"],!1,null,"7f17b585",null);e["default"]=r.exports},"16ca":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s={data:function(){return{isShowMask:!0,userinfo:{name:"",telephone:"",address:"",company:"",position:"",good:"",avatar:""},isEditing:!1,isTelThrough:!0,isSave:!1}},onLoad:function(){var t=this.$store.state.loginUser,e={};for(var i in this.userinfo)t[i]&&(e[i]=t[i]);this.$data.userinfo=e},onNavigationBarButtonTap:function(t){var e=this;if(!this.isTelThrough)return uni.showModal({title:"温馨提示",content:"请输入合法手机号！"}),null;this.$data.isEditing=!this.isEditing,this.modifyNavigationBarBtnText(this.isEditing?"完成":"编辑"),this.isEditing?this.$data.isShowMask=!1:(this.$data.isShowMask=!0,uni.hideKeyboard(),uni.showModal({title:"温馨提示",content:"是否保存信息？",showCancel:!0,cancelText:"否",confirmText:"是",success:function(t){t.confirm&&(uni.showLoading({mask:!0,title:"保存中..."}),uni.request({url:e.$url+"/api/my/info",method:"POST",data:e.userinfo,header:{Authorization:e.$store.state.loginUser.token,"content-type":"application/x-www-form-urlencoded"},success:function(t){uni.hideLoading(),e.$store.commit("loginUser",Object.assign({},e.$store.state.loginUser,e.userinfo)),uni.showModal({title:"温馨提示",content:"保存成功！",showCancel:!1})}}))}}))},methods:{handleTelInput:function(t){var e=t.detail.value;this.$data.isTelThrough=/^1[345789]\d{9}$/.test(e)},chooseHeadPortrait:function(){var t=this;uni.chooseImage({count:1,sizeType:"compressed",success:function(e){t.$data.userinfo.avatar=e.tempFilePaths[0],t.$store.commit("loginUser",Object.assign(t.$store.state.loginUser,{avatar:t.$data.userinfo.avatar})),t.$store.commit("loginUser",Object.assign(t.$store.state.loginUser,{avatar:t.$data.userinfo.avatar})),uni.saveFile({tempFilePath:e.tempFilePaths[0],success:function(t){t.savedFilePath}}),uni.uploadFile({url:t.$url+"/api/my/images",filePath:t.$data.userinfo.avatar,method:"POST",header:{Authorization:t.$store.state.loginUser.token,"content-type":"multipart/form-data"},name:"file",success:function(t){console.log(JSON.stringify(t))}})}})},modifyNavigationBarBtnText:function(t){var e=getCurrentPages();e[e.length-1]}}};e.default=s},5033:function(t,e,i){var s=i("cc3b");"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var a=i("4f06").default;a("5781d114",s,!0,{sourceMap:!1,shadowMode:!1})},"7bee":function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"container"},[i("v-uni-view",{staticClass:"head-portrait-wrapper"},[i("v-uni-text",{staticClass:"des"},[t._v("我的头像")]),i("v-uni-image",{staticClass:"avatar",attrs:{src:t.userinfo.avatar,mode:"aspectFill"},on:{click:function(e){e=t.$handleEvent(e),t.chooseHeadPortrait(e)}}})],1),i("v-uni-view",{staticClass:"info-list"},[i("v-uni-view",{staticClass:"item"},[i("v-uni-text",{staticClass:"des"},[t._v("真实姓名")]),i("v-uni-input",{staticClass:"name",attrs:{type:"text",value:t.userinfo.name},model:{value:t.userinfo.name,callback:function(e){t.$set(t.userinfo,"name",e)},expression:"userinfo.name"}})],1),i("v-uni-view",{staticClass:"item"},[i("v-uni-text",{staticClass:"des"},[t._v("联系电话")]),i("v-uni-input",{staticClass:"telephone",attrs:{type:"number",maxlength:"11",value:t.userinfo.telephone},on:{input:function(e){e=t.$handleEvent(e),t.handleTelInput(e)}},model:{value:t.userinfo.telephone,callback:function(e){t.$set(t.userinfo,"telephone",e)},expression:"userinfo.telephone"}})],1),i("v-uni-view",{staticClass:"item"},[i("v-uni-text",{staticClass:"des"},[t._v("所在城市")]),i("v-uni-input",{staticClass:"address",attrs:{type:"text",value:t.userinfo.address},model:{value:t.userinfo.address,callback:function(e){t.$set(t.userinfo,"address",e)},expression:"userinfo.address"}})],1),i("v-uni-view",{staticClass:"item"},[i("v-uni-text",{staticClass:"des"},[t._v("公司名称")]),i("v-uni-input",{staticClass:"company",attrs:{type:"text",value:t.userinfo.company},model:{value:t.userinfo.company,callback:function(e){t.$set(t.userinfo,"company",e)},expression:"userinfo.company"}})],1),i("v-uni-view",{staticClass:"item"},[i("v-uni-text",{staticClass:"des"},[t._v("公司职位")]),i("v-uni-input",{staticClass:"position",attrs:{type:"text",value:t.userinfo.position},model:{value:t.userinfo.position,callback:function(e){t.$set(t.userinfo,"position",e)},expression:"userinfo.position"}})],1),i("v-uni-view",{staticClass:"item"},[i("v-uni-text",{staticClass:"des"},[t._v("职业擅长")]),i("v-uni-input",{staticClass:"good",attrs:{type:"text",value:t.userinfo.good},model:{value:t.userinfo.good,callback:function(e){t.$set(t.userinfo,"good",e)},expression:"userinfo.good"}})],1),i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.isShowMask,expression:"isShowMask"}],staticClass:"mask"})],1)],1)},a=[];i.d(e,"a",function(){return s}),i.d(e,"b",function(){return a})},cc3b:function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,"uni-page-body[data-v-7f17b585]{background:#f5f5f5}.head-portrait-wrapper[data-v-7f17b585]{background:#fff;-webkit-box-sizing:border-box;box-sizing:border-box;padding:%?16?% %?36?%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;margin-bottom:%?16?%}.des[data-v-7f17b585]{display:block;width:%?150?%;text-align-last:justify; /*两端对齐*/font-size:%?32?%}.avatar[data-v-7f17b585]{width:%?140?%;height:%?140?%;border-radius:50%;background:#d3d3d3}.info-list[data-v-7f17b585]{background:#fff;-webkit-box-sizing:border-box;box-sizing:border-box;padding:0 %?16?%}.info-list .item[data-v-7f17b585]{height:%?100?%;padding:0 %?20?%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.info-list .item[data-v-7f17b585]:not(:last-child){border-bottom:%?1?% solid #d3d3d3}.info-list uni-input[data-v-7f17b585]{height:%?70?%;text-align:right;color:grey}.mask[data-v-7f17b585]{width:100%;height:100%;background:rgba(0,0,0,0);position:absolute;top:0;left:0;z-index:1000}body.?%PAGE?%[data-v-7f17b585]{background:#f5f5f5}",""])},d32f:function(t,e,i){"use strict";var s=i("5033"),a=i.n(s);a.a}}]);